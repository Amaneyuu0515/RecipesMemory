{% load static %}
<link rel="stylesheet" href="{% static 'css/style.css' %}">
<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>RecipesMemory</title>
    <link rel="stylesheet" href="{% static 'recipes/style.css' %}">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>

<body>

    <h1 style="text-align:center;">ğŸ³ RecipesMemory</h1>


    <!-- æ–°è¦ãƒ¬ã‚·ãƒ”æŠ•ç¨¿ãƒªãƒ³ã‚¯ -->
    <div style="text-align:center; margin-bottom:20px;">
        <a href="{% url 'create_recipe' %}" class="btn-post">â• æ–°ã—ã„ãƒ¬ã‚·ãƒ”ã‚’æŠ•ç¨¿ã™ã‚‹</a>
    </div>

    <!-- ã‚«ãƒ†ã‚´ãƒªçµã‚Šè¾¼ã¿ãƒ•ã‚©ãƒ¼ãƒ  -->
    <form method="GET" style="text-align:center; margin-bottom:20px;">
        <select name="category">
            {% for cat in categories %}
            <option value="{{ cat.name }}" {% if cat.selected %}selected{% endif %}>
                {{ cat.name }}
            </option>
            {% endfor %}
        </select>
        <button type="submit">çµã‚Šè¾¼ã‚€</button>
    </form>

    <!-- ãƒ¬ã‚·ãƒ”ã‚«ãƒ¼ãƒ‰è¡¨ç¤º -->
    <div class="recipes-container">
        {% for recipe in recipes %}
        <div class="recipe-card category-{{ recipe.category }}">
            {% if recipe.image %}
            <img src="{{ recipe.image.url }}" alt="{{ recipe.title }}">
            {% endif %}
            <h2><a href="{% url 'recipe_detail' recipe.id %}">{{ recipe.title }}</a></h2>
            <p><strong>ã‚«ãƒ†ã‚´ãƒª:</strong> {{ recipe.category }}</p>
            <p><strong>ææ–™:</strong><br>{{ recipe.ingredients|truncatechars:50 }}</p>
            <p><strong>ä½œã‚Šæ–¹:</strong><br>{{ recipe.instructions|truncatechars:50 }}</p>
            <small>æŠ•ç¨¿æ—¥: {{ recipe.created_at|date:"Yå¹´mæœˆdæ—¥ H:i" }}</small>
        </div>
        {% empty %}
        <p>ã¾ã ãƒ¬ã‚·ãƒ”ãŒã‚ã‚Šã¾ã›ã‚“ã€‚</p>
        {% endfor %}
    </div>
</body>

</html>